<!doctype html>
<html lang="">
<head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="description" content="">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link href="favicon.ico" rel="shortcut icon" type="image/ico">
    <title>Angular Augury</title>

    <!-- Material Design icons -->
    <link rel="stylesheet" href="https://fonts.googleapis.com/icon?family=Material+Icons">
    <link href='https://fonts.googleapis.com/css?family=Roboto:400,300,500,700' rel='stylesheet' type='text/css'>
    <link rel="stylesheet" href="vendors/material-design-lite/material.min.css">
    <link rel="stylesheet" href="styles/main.css">
</head>
<body class="mdl-demo mdl-base">
<p><img src="images/routes-nyc.png" alt="Image NYC Metro"></p>
<p><a href="/examples/routes/app/index.html" target="blank">Launch Demo Application</a></p>
<h2>Description</h2><p>The <em>Routes</em> Angular application demonstrates the uses of <em>routes</em> as well as lazy loaded child routes. The application also makes use of multiple <em>router outlets</em>.</p>
<p>The application contains 10 components and 2 modules. The <em>root</em> module <code>app.module.ts</code> contains the following components:</p>
<ul>
<li>AppComponent</li>
<li>HomeComponent</li>
<li>ParksComponent</li>
<li>ParkOneComponent</li>
<li>ParkTwoComponent</li>
<li>ParkThreeComponent</li>
</ul>
<p>The <em>city</em> module <code>city.module.ts</code> contains:</p>
<ul>
<li>CityComponent</li>
<li>CityOneComponent</li>
<li>CityTwoComponent</li>
<li>CityThreeComponent</li>
</ul>
<h2>Architecture</h2><p>The component code is simple, the <code>AppComponent</code> has a single router outlet. When the <code>ParksComponent</code> or <code>CityComponent</code> component is loaded, a second router outlet becomes available. Components from the child route get loaded into the second router outlet.</p>
<p><img src="images/router-outlet.png" width="346"></p>
<p>The <em>root</em> module <code>app.module.ts</code> provides routes for <em>root</em> and <em>parks</em>, which are:</p>
<table>
<thead>
<tr>
<th>Routes</th>
<th>Component (View)</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>/</code></td>
<td>AppComponent</td>
</tr>
<tr>
<td><code>/home</code></td>
<td>HomeComponent</td>
</tr>
<tr>
<td><code>/parks</code></td>
<td>ParksComponent</td>
</tr>
<tr>
<td><code>/parks/park1</code></td>
<td>ParkOneComponent</td>
</tr>
<tr>
<td><code>/parks/park2</code></td>
<td>ParkTwoComponent</td>
</tr>
<tr>
<td><code>/parks/park3</code></td>
<td>ParkThreeComponent</td>
</tr>
</tbody>
</table>
<p>The root path <code>/</code> gets redirected to <code>/home</code>. Also the lazy loaded route for <code>cities</code> is defined in the <em>root</em> module.</p>
<p>The city module <code>city.module.ts</code> contains the routes for <em>cities</em> below:</p>
<table>
<thead>
<tr>
<th>Routes</th>
<th>Component (View)</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>/cities/city1</code></td>
<td>CityOneComponent</td>
</tr>
<tr>
<td><code>/cities/city2</code></td>
<td>CityTwoComponent</td>
</tr>
<tr>
<td><code>/cities/city3</code></td>
<td>CityThreeComponent</td>
</tr>
</tbody>
</table>
<h2>Opening Augury</h2><p>To use Augury, we need to open DevTools.</p>
<pre><code>Ctrl + Shift + I (Cmd + Opt + I on Mac)
</code></pre><p>When DevTools opens, select the <em>Augury</em> tab located on the far right.</p>
<h2>Router outlet</h2><p>With Augury opened, in the <em>Component Tree</em> <code>AppComponent</code> shows <code>router-outlet</code> as a child element, this makes sense since it is declared in the <em>template</em>.</p>
<p><img src="images/routes-ct.png" alt="Image Component Tree"></p>
<p>In the browser, click on the <em>Parks</em> button. This will load the <code>ParksComponent</code> and update the <em>Component Tree</em> view. You will notice a second <code>router-outlet</code> that appears under <code>ParksComponent</code>, this is where each of the park components will load into.</p>
<p><img src="images/routes-parks.png" alt="Images Routes Parks"></p>
<p>Try clicking on each of the links labeled:</p>
<ul>
<li>Park 1</li>
<li>Path 2</li>
<li>Park 3</li>
</ul>
<p>Notice how each child component is loaded under <code>ParksComponent</code> just underneath <code>router-outlet</code>. This is how Angular inserts a component into the DOM, as a sibling element of <code>router-outlet</code>.</p>
<h2>Routes</h2><p>To see the current <em>routes</em> for the application, click on the <em>Router Tree</em> tab. This will show all the defined routes that are currently loaded in the application. The routes shows the path to each component (think view). The <code>AppComponent</code> path is the root <code>/</code>. The path to <code>HomeComponent</code> is <code>/home</code>, likewise the path to the child component <code>ParkThreeComponent</code> is <code>/parks/park3</code>.</p>
<p><img src="images/routes-router-tree.png" alt="Image Route tree"></p>
<p>Take a look at the bottom of the router tree, you will notice <code>cities [Lazy]</code>, this is a lazy loaded route. This means that the child components for the path <code>/cities</code> will be loaded on demand, this takes place when the <em>Cities</em> button is clicked. Let us see this in action, click on the <em>Cities</em> button and pay attention to how the <em>lazy route</em> is updated when the feature Angular module is loaded.</p>
<p><img src="images/routes-lazy.gif" alt="Image Lazy routes"></p>
<p>That is all there is to Angular routes. We have looked at <code>router-outlet</code>, router tree and how it represents the path to the view and finally noticing lazy loaded routes.</p>
<script src="tools/prism.js"></script>
<script src="vendors/material-design-lite/material.min.js"></script>
<script>
    (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
                (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
            m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
    })(window,document,'script','https://www.google-analytics.com/analytics.js','ga');
    ga('create', 'UA-8594346-15', 'auto');
    ga('send', 'pageview');
</script>
<script>
    var trackOutboundLinkNav = function(url) {
      ga('send', 'event', 'acquisition', 'install', 'nav', {
        'transport': 'beacon',
        'hitCallback': function(){document.location = url;}
      });
    }

    var trackOutboundLinkHero = function(url) {
      ga('send', 'event', 'acquisition', 'install', 'hero', {
        'transport': 'beacon',
        'hitCallback': function(){document.location = url;}
      });
    }

    var trackOutboundLinkCta = function(url) {
      ga('send', 'event', 'acquisition', 'install', 'cta', {
        'transport': 'beacon',
        'hitCallback': function(){document.location = url;}
      });
    }
</script>
</body>
</html>
